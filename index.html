<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Web H·ªçc B√†i Th√¥ng Minh - Phi√™n B·∫£n 3.0</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    margin: 0;
    font-family: 'Segoe UI', Arial, sans-serif;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: #f0f0f0;
    min-height: 100vh;
  }
  .container {
    max-width: 960px;
    margin: auto;
    padding: 30px 20px;
  }
  h1 {
    text-align: center;
    font-size: 2.8em;
    margin-bottom: 10px;
    text-shadow: 0 2px 15px rgba(0,0,0,0.6);
  }
  .subtitle {
    text-align: center;
    font-size: 1.4em;
    opacity: 0.9;
    margin-bottom: 40px;
  }
  .update-note {
    text-align: center;
    font-size: 1.2em;
    color: #ffdd00;
    background: rgba(0,0,0,0.3);
    padding: 12px;
    border-radius: 12px;
    margin: 20px 0;
    font-style: italic;
  }
  h2 {
    text-align: center;
    margin: 30px 0 20px;
    font-size: 1.9em;
  }
  .menu, .mode {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 20px;
    margin: 30px 0;
  }
  button {
    padding: 22px;
    border: none;
    border-radius: 18px;
    font-size: 19px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.4s ease;
    box-shadow: 0 6px 20px rgba(0,0,0,0.4);
  }
  button:hover {
    transform: translateY(-8px) scale(1.05);
    box-shadow: 0 15px 30px rgba(0,0,0,0.5);
  }
  .menu button {
    background: linear-gradient(45deg, #00c6ff, #0072ff);
    color: white;
  }
  .mode button {
    background: linear-gradient(45deg, #ffdd00, #ffb800);
    color: #333;
  }
  .quiz {
    background: rgba(0,0,0,0.55);
    backdrop-filter: blur(12px);
    padding: 35px;
    border-radius: 25px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.5);
    margin-top: 30px;
  }
  .header-quiz {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 25px;
  }
  .timer {
    font-size: 1.8em;
    font-weight: bold;
    background: #333;
    padding: 12px 25px;
    border-radius: 12px;
    color: #fff;
  }
  .timer.warning { color: #ff4444; }
  .progress {
    width: 100%;
    height: 12px;
    background: #333;
    border-radius: 6px;
    margin: 25px 0;
    overflow: hidden;
  }
  .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #00c6ff, #0072ff);
    width: 0%;
    transition: width 0.5s ease;
  }
  #question {
    font-size: 1.75em;
    margin-bottom: 30px;
    line-height: 1.5;
  }
  .options {
    display: grid;
    gap: 18px;
  }
  .option {
    background: rgba(255,255,255,0.12);
    backdrop-filter: blur(10px);
    padding: 20px;
    border-radius: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 3px solid transparent;
  }
  .option:hover {
    background: rgba(255,255,255,0.25);
    transform: translateX(10px);
  }
  .option.correct {
    background: #28a745 !important;
    border-color: #218838;
    color: white;
  }
  .option.wrong {
    background: #dc3545 !important;
    border-color: #c82333;
    color: white;
  }
  .explanation {
    margin-top: 20px;
    padding: 15px;
    background: rgba(255,255,255,0.1);
    border-radius: 12px;
    font-style: italic;
  }
  .result {
    margin-top: 30px;
    font-size: 1.5em;
    font-weight: bold;
    text-align: center;
    min-height: 50px;
  }
  .score-board {
    font-size: 1.8em;
    background: rgba(0,0,0,0.4);
    padding: 12px 25px;
    border-radius: 12px;
  }
  .hidden { display: none; }
  @media (max-width: 600px) {
    h1 { font-size: 2.2em; }
    .subtitle { font-size: 1.2em; }
    #question { font-size: 1.5em; }
    button { font-size: 17px; padding: 18px; }
    .timer, .score-board { font-size: 1.5em; }
  }
</style>
</head>
<body>
<div class="container">
  <h1>üìò √în Thi tr·∫Øc nghi·ªám cu·ªëi h·ªçc k·ª≥ 1 2025-2026 </h1>
  <p class="subtitle">
    Phi√™n b·∫£n 3.0 ‚Äì ƒê·∫ßy ƒë·ªß c√¢u h·ªèi tr·∫Øc nghi·ªám + Thi gi·∫£ l·∫≠p 30 ph√∫t!
  </p>
  <div class="update-note">
    üöß Web ƒëang c·∫≠p nh·∫≠t ph·∫ßn t·ª± lu·∫≠n (s·∫Ω s·ªõm ra m·∫Øt!)
  </div>

  <h2>Ch·ªçn m√¥n h·ªçc</h2>
  <div class="menu">
    <button onclick="selectSubject('ls')">üìú L·ªãch s·ª≠</button>
    <button onclick="selectSubject('dl')">üåç ƒê·ªãa l√Ω</button>
    <button onclick="selectSubject('hoasinh')">üß™ H√≥a & Sinh</button>
    <button onclick="selectSubject('ly')">‚ö° V·∫≠t l√Ω</button>
    <button onclick="selectSubject('tin')">üíª Tin h·ªçc</button>
    <button onclick="selectSubject('toan')">üî¢ To√°n h·ªçc</button>
  </div>

  <div class="mode hidden" id="mode">
    <h2>Ch·ªçn ch·∫ø ƒë·ªô ch∆°i</h2>
    <button onclick="startMode(false)">üß† √în t·∫≠p t·ª± do (kh√¥ng gi·ªõi h·∫°n th·ªùi gian)</button>
    <button onclick="startMode(true)">üìù Thi gi·∫£ l·∫≠p (30 ph√∫t ‚Äì 30 c√¢u)</button>
  </div>

  <div class="quiz hidden" id="quiz">
    <div class="header-quiz">
      <div class="score-board" id="score-board">C√¢u: 0/0 | ƒêi·ªÉm: 0</div>
      <div class="timer hidden" id="timer">‚è± 30:00</div>
    </div>
    <div class="progress"><div class="progress-bar" id="progress-bar"></div></div>
    <h2 id="question"></h2>
    <div class="options" id="options"></div>
    <div class="result" id="result"></div>
    <div class="explanation hidden" id="explanation"></div>
  </div>
</div>

<script>
// D·ªØ li·ªáu c√¢u h·ªèi ‚Äì ƒê∆∞·ª£c b·ªï sung ƒë·∫ßy ƒë·ªß h∆°n, th√™m gi·∫£i th√≠ch chi ti·∫øt
const data = {
  ls: [
    {q: "Nh√† n∆∞·ªõc Li√™n bang C·ªông h√≤a X√£ h·ªôi Ch·ªß nghƒ©a X√¥ vi·∫øt (Li√™n X√¥) ch√≠nh th·ª©c ƒë∆∞·ª£c th√†nh l·∫≠p v√†o nƒÉm n√†o?", o: ["NƒÉm 1918", "NƒÉm 1922", "NƒÉm 1921", "NƒÉm 1924"], a: 1, exp: "Ng√†y 30/12/1922, t·∫°i H·ªôi ngh·ªã c√°c X√¥ vi·∫øt to√†n Nga."},
    {q: "V√¨ sao cu·ªôc kh·ªßng ho·∫£ng kinh t·∫ø th·∫ø gi·ªõi 1929‚Äì1933 ƒë√£ l√†m thay ƒë·ªïi s√¢u s·∫Øc t√¨nh h√¨nh ch√≠nh tr·ªã ‚Äì x√£ h·ªôi ·ªü nhi·ªÅu n∆∞·ªõc ch√¢u √Çu v√† Mƒ©?", o: ["V√¨ l√†m c√°c n∆∞·ªõc nhanh ch√≥ng ph·ª•c h·ªìi kinh t·∫ø v√† ·ªïn ƒë·ªãnh x√£ h·ªôi", "V√¨ l√†m cho ch·ªß nghƒ©a t∆∞ b·∫£n ph√°t tri·ªÉn c√¢n b·∫±ng v√† b·ªÅn v·ªØng h∆°n", "V√¨ l√†m tr·∫ßm tr·ªçng th√™m m√¢u thu·∫´n x√£ h·ªôi, t·∫°o ƒëi·ªÅu ki·ªán cho c√°c th·∫ø l·ª±c c·ª±c ƒëoan, ph√°t x√≠t l√™n c·∫ßm quy·ªÅn ·ªü m·ªôt s·ªë n∆∞·ªõc", "V√¨ khi·∫øn c√°c n∆∞·ªõc t·ª´ b·ªè ho√†n to√†n con ƒë∆∞·ªùng ph√°t tri·ªÉn t∆∞ b·∫£n ch·ªß nghƒ©a"], a: 2, exp: "Kh·ªßng ho·∫£ng l√†m th·∫•t nghi·ªáp tƒÉng cao, m√¢u thu·∫´n x√£ h·ªôi gay g·∫Øt ‚Üí ph√°t x√≠t l√™n n·∫Øm quy·ªÅn ·ªü ƒê·ª©c (Hitler 1933), √ù (Mussolini tr∆∞·ªõc ƒë√≥ nh∆∞ng c·ªßng c·ªë quy·ªÅn l·ª±c)."},
    {q: "Gi·∫£ s·ª≠ em l√† m·ªôt thanh ni√™n s·ªëng ·ªü ch√¢u √Å trong th·∫≠p ni√™n 1930, em s·∫Ω l·ª±a ch·ªçn con ƒë∆∞·ªùng n√†o ƒë·ªÉ g√≥p ph·∫ßn ƒë·∫•u tranh gi√†nh ƒë·ªôc l·∫≠p cho d√¢n t·ªôc?", o: ["Th·ªèa hi·ªáp v√† ch·∫•p nh·∫≠n s·ª± th·ªëng tr·ªã c·ªßa c√°c n∆∞·ªõc ƒë·∫ø qu·ªëc", "D·ª±a v√†o s·ª± b·∫£o h·ªô c·ªßa c√°c n∆∞·ªõc ƒë·∫ø qu·ªëc ƒë·ªÉ ph√°t tri·ªÉn ƒë·∫•t n∆∞·ªõc", "Kh√¥ng quan t√¢m ƒë·∫øn t√¨nh h√¨nh ch√≠nh tr·ªã ‚Äì x√£ h·ªôi", "Tham gia c√°c phong tr√†o ƒë·∫•u tranh d√¢n t·ªôc, gi√†nh ƒë·ªôc l·∫≠p v√† t·ª± do"], a: 3, exp: "Con ƒë∆∞·ªùng c√°ch m·∫°ng gi·∫£i ph√≥ng d√¢n t·ªôc l√† ƒë√∫ng ƒë·∫Øn nh·∫•t trong b·ªëi c·∫£nh th·ª±c d√¢n ƒë√†n √°p m·∫°nh m·∫Ω."},
    {q: "Chi·∫øn tranh th·∫ø gi·ªõi th·ª© hai b√πng n·ªï v√†o th·ªùi gian n√†o?", o: ["Ng√†y 1‚Äì9‚Äì1939", "Ng√†y 7‚Äì12‚Äì1941", "Ng√†y 22‚Äì6‚Äì1941", "Ng√†y 2‚Äì9‚Äì1945"], a: 0, exp: "Ng√†y 1/9/1939, ƒê·ª©c t·∫•n c√¥ng Ba Lan, Anh v√† Ph√°p tuy√™n chi·∫øn v·ªõi ƒê·ª©c."},
    {q: "V√¨ sao phong tr√†o d√¢n t·ªôc d√¢n ch·ªß ·ªü Vi·ªát Nam giai ƒëo·∫°n 1918‚Äì1930 c√≥ b∆∞·ªõc ph√°t tri·ªÉn m·ªõi so v·ªõi tr∆∞·ªõc Chi·∫øn tranh th·∫ø gi·ªõi th·ª© nh·∫•t?", o: ["V√¨ th·ª±c d√¢n Ph√°p tƒÉng c∆∞·ªùng khai th√°c thu·ªôc ƒë·ªãa l·∫ßn th·ª© nh·∫•t", "V√¨ giai c·∫•p c√¥ng nh√¢n Vi·ªát Nam tr·ªü th√†nh l·ª±c l∆∞·ª£ng l√£nh ƒë·∫°o duy nh·∫•t", "V√¨ ·∫£nh h∆∞·ªüng c·ªßa C√°ch m·∫°ng th√°ng M∆∞·ªùi Nga v√† s·ª± truy·ªÅn b√° ch·ªß nghƒ©a M√°c ‚Äì L√™nin v√†o Vi·ªát Nam", "V√¨ c√°c phong tr√†o y√™u n∆∞·ªõc theo khuynh h∆∞·ªõng phong ki·∫øn ho√†n to√†n th·∫Øng l·ª£i"], a: 2, exp: "C√°ch m·∫°ng th√°ng M∆∞·ªùi Nga 1917 v√† s·ª± du nh·∫≠p ch·ªß nghƒ©a M√°c-L√™nin ƒë√£ m·ªü ra con ƒë∆∞·ªùng c√°ch m·∫°ng v√¥ s·∫£n."},
    {q: "T·ª´ ho·∫°t ƒë·ªông c·ªßa Nguy·ªÖn √Åi Qu·ªëc trong nh·ªØng nƒÉm 1919‚Äì1930, b√†i h·ªçc quan tr·ªçng nh·∫•t ƒë·ªëi v·ªõi c√°ch m·∫°ng Vi·ªát Nam l√† g√¨?", o: ["Ph·∫£i d·ª±a ho√†n to√†n v√†o s·ª± gi√∫p ƒë·ª° c·ªßa c√°c n∆∞·ªõc l·ªõn", "Ph·∫£i c√≥ ƒë∆∞·ªùng l·ªëi c√°ch m·∫°ng ƒë√∫ng ƒë·∫Øn v√† m·ªôt ch√≠nh ƒë·∫£ng l√£nh ƒë·∫°o th·ªëng nh·∫•t", "C·∫ßn ki√™n tr√¨ con ƒë∆∞·ªùng ƒë·∫•u tranh v≈© trang ngay t·ª´ ƒë·∫ßu", "Ch·ªâ c·∫ßn ph√°t ƒë·ªông qu·∫ßn ch√∫ng n·ªïi d·∫≠y l√† c√≥ th·ªÉ gi√†nh ƒë·ªôc l·∫≠p"], a: 1, exp: "Nguy·ªÖn √Åi Qu·ªëc ƒë√£ t√¨m th·∫•y con ƒë∆∞·ªùng c·ª©u n∆∞·ªõc ƒë√∫ng ƒë·∫Øn v√† th√†nh l·∫≠p ƒê·∫£ng C·ªông s·∫£n Vi·ªát Nam nƒÉm 1930."},
    {q: "Chi·∫øn tranh l·∫°nh b·∫Øt ƒë·∫ßu sau s·ª± ki·ªán n√†o d∆∞·ªõi ƒë√¢y?", o: ["Chi·∫øn tranh th·∫ø gi·ªõi th·ª© hai k·∫øt th√∫c", "C√°ch m·∫°ng th√°ng M∆∞·ªùi Nga th·∫Øng l·ª£i", "Chi·∫øn tranh th·∫ø gi·ªõi th·ª© nh·∫•t k·∫øt th√∫c", "Li√™n X√¥ tan r√£"], a: 0, exp: "Sau WWII (1945), M·ªπ v√† Li√™n X√¥ tr·ªü th√†nh hai si√™u c∆∞·ªùng ƒë·ªëi ƒë·∫ßu v·ªÅ √Ω th·ª©c h·ªá."},
    {q: "V√¨ sao sau Chi·∫øn tranh th·∫ø gi·ªõi th·ª© hai, c√°c n∆∞·ªõc ƒê√¥ng √Çu l·ª±a ch·ªçn con ƒë∆∞·ªùng x√¢y d·ª±ng ch·ªß nghƒ©a x√£ h·ªôi?", o: ["V√¨ ch·ªãu s·ª± √©p bu·ªôc ho√†n to√†n t·ª´ c√°c n∆∞·ªõc t∆∞ b·∫£n ph∆∞∆°ng T√¢y", "V√¨ c√°c n∆∞·ªõc n√†y c√≥ n·ªÅn kinh t·∫ø ph√°t tri·ªÉn s·∫µn t·ª´ tr∆∞·ªõc chi·∫øn tranh", "V√¨ mu·ªën nhanh ch√≥ng tr·ªü th√†nh c√°c c∆∞·ªùng qu·ªëc qu√¢n s·ª± th·∫ø gi·ªõi", "V√¨ ƒë√¢y l√† con ƒë∆∞·ªùng ph√π h·ª£p v·ªõi ho√†n c·∫£nh l·ªãch s·ª≠ v√† nguy·ªán v·ªçng c·ªßa nh√¢n d√¢n"], a: 3, exp: "Nh√¢n d√¢n lao ƒë·ªông ·ªßng h·ªô con ƒë∆∞·ªùng x√£ h·ªôi ch·ªß nghƒ©a sau khi ƒë∆∞·ª£c gi·∫£i ph√≥ng kh·ªèi ph√°t x√≠t."},
    // C√≥ th·ªÉ th√™m nhi·ªÅu c√¢u n·ªØa n·∫øu c·∫ßn
  ],

  dl: [
    {q: "ƒê·∫∑c ƒëi·ªÉm kh√≠ h·∫≠u c·ªßa v√πng Trung du v√† mi·ªÅn n√∫i ph√≠a B·∫Øc thu·∫≠n l·ª£i ƒë·ªÉ ph√°t tri·ªÉn c√°c lo·∫°i c√¢y c√≥ ngu·ªìn g·ªëc:", o: ["C·∫≠n nhi·ªát, √¥n ƒë·ªõi", "C·∫≠n nhi·ªát, h√†n ƒë·ªõi", "X√≠ch ƒë·∫°o, nhi·ªát ƒë·ªõi", "√în ƒë·ªõi, x√≠ch ƒë·∫°o"], a: 0, exp: "Do ƒë·ªô cao kh√°c nhau n√™n c√≥ c·∫£ kh√≠ h·∫≠u c·∫≠n nhi·ªát v√† √¥n ƒë·ªõi tr√™n c√°c ƒë·ªânh n√∫i cao."},
    {q: "Lo√†i gia s√∫c n√†o c·ªßa v√πng Trung du v√† mi·ªÅn n√∫i ph√≠a B·∫Øc chi·∫øm t·ªâ tr·ªçng cao nh·∫•t so v·ªõi c·∫£ n∆∞·ªõc?", o: ["Tr√¢u", "B√≤", "D√™", "Ng·ª±a"], a: 0, exp: "Tr√¢u ƒë∆∞·ª£c nu√¥i nhi·ªÅu ƒë·ªÉ l√†m s·ª©c k√©o ·ªü ƒë·ªãa h√¨nh ƒë·ªìi n√∫i."},
    {q: "T√≠nh ƒëa d·∫°ng v·ªÅ c∆° c·∫•u s·∫£n ph·∫©m n√¥ng nghi·ªáp c·ªßa Trung du v√† mi·ªÅn n√∫i ph√≠a B·∫Øc th·ªÉ hi·ªán ·ªü ch·ªó c√≥ c·∫£:", o: ["C√¢y c√¥ng nghi·ªáp, c√¢y ƒÉn qu·∫£ v√† c√¢y d∆∞·ª£c li·ªáu", "C√¢y l∆∞∆°ng th·ª±c, c√¢y ƒÉn qu·∫£ v√† c√¢y th·ª±c ph·∫©m", "C√¢y nhi·ªát ƒë·ªõi, c√¢y c·∫≠n nhi·ªát v√† c√¢y √¥n ƒë·ªõi", "C√¢y th·ª±c ph·∫©m, c√¢y ƒÉn qu·∫£ v√† c√¢y c√¥ng nghi·ªáp"], a: 2, exp: "Do ch√™nh l·ªách ƒë·ªô cao l·ªõn, c√≥ nhi·ªÅu ti·ªÉu v√πng kh√≠ h·∫≠u kh√°c nhau."},
    {q: "Trung du v√† mi·ªÅn n√∫i ph√≠a B·∫Øc c√≥ th·∫ø m·∫°nh ph√°t tri·ªÉn c√°c ng√†nh c√¥ng nghi·ªáp n√†o sau ƒë√¢y?", o: ["L∆∞∆°ng th·ª±c, khai kho√°ng", "Th·ª±c ph·∫©m, h√≥a ch·∫•t", "V·∫≠t li·ªáu x√¢y d·ª±ng, tin h·ªçc", "Khai kho√°ng, th·ªßy ƒëi·ªán"], a: 3, exp: "V√πng gi√†u t√†i nguy√™n kho√°ng s·∫£n v√† c√≥ ti·ªÅm nƒÉng th·ªßy ƒëi·ªán r·∫•t l·ªõn nh·ªù nhi·ªÅu s√¥ng su·ªëi."},
    {q: "V√πng Trung du v√† mi·ªÅn n√∫i ph√≠a B·∫Øc g·ªìm c√≥ bao nhi√™u t·ªânh?", o: ["15 t·ªânh", "14 t·ªânh", "13 t·ªânh", "9 t·ªânh"], a: 3, exp: "Theo quy ho·∫°ch hi·ªán h√†nh: 14 t·ªânh (t·ª´ H√† Giang ƒë·∫øn Ngh·ªá An)."},
    {q: "Lo·∫°i ƒë·∫•t n√†o chi·∫øm ph·∫ßn l·ªõn di·ªán t√≠ch c·ªßa v√πng Trung du v√† mi·ªÅn n√∫i B·∫Øc B·ªô?", o: ["ƒê·∫•t ph√π sa", "ƒê·∫•t feralit", "ƒê·∫•t ba dan", "ƒê·∫•t m√πn"], a: 1, exp: "ƒê·∫•t feralit ƒë·ªè v√†ng tr√™n ƒë·ªìi n√∫i chi·∫øm ∆∞u th·∫ø."},
    {q: "C√¢y c√¥ng nghi·ªáp l√¢u nƒÉm quan tr·ªçng nh·∫•t ·ªü Trung du v√† mi·ªÅn n√∫i B·∫Øc B·ªô l√†:", o: ["Cao su", "ƒêi·ªÅu", "C√† ph√™", "Ch√®"], a: 3, exp: "Ch√® l√† c√¢y ch·ªß l·ª±c v·ªõi c√°c v√πng n·ªïi ti·∫øng nh∆∞ Th√°i Nguy√™n, Ph√∫ Th·ªç, Y√™n B√°i."}
  ],

  hoasinh: [
    {q: "D·ª•ng c·ª• n√†o sau ƒë√¢y d√πng ƒë·ªÉ ph√¢n t√°n nhi·ªát khi ƒë·ªët?", o: ["L∆∞·ªõi t·∫£n nhi·ªát", "B√°t s·ª©", "B√¨nh c·∫ßu", "Ph·ªÖu chi·∫øt"], a: 0},
    {q: "T√≠nh ch·∫•t v·∫≠t l√Ω c·ªßa kh√≠ ethylene l√†:", o: ["Ch·∫•t kh√≠ kh√¥ng m√†u, kh√¥ng m√πi, tan trong n∆∞·ªõc, nh·∫π h∆°n kh√¥ng kh√≠", "Ch·∫•t kh√≠ kh√¥ng m√†u, kh√¥ng m√πi, √≠t tan trong n∆∞·ªõc, nh·∫π h∆°n kh√¥ng kh√≠", "Ch·∫•t kh√≠ m√†u v√†ng l·ª•c, kh√¥ng m√πi, √≠t tan trong n∆∞·ªõc, n·∫∑ng h∆°n kh√¥ng kh√≠", "Ch·∫•t kh√≠ kh√¥ng m√†u, m√πi h·∫Øc, √≠t tan trong n∆∞·ªõc, n·∫∑ng h∆°n kh√¥ng kh√≠"], a: 1},
    {q: "CH3CH3 c√≥ t√™n l√†:", o: ["Methane", "Ethane", "Propane", "Butane"], a: 1},
    {q: "D√£y c√°c alkane ƒë∆∞·ª£c s·∫Øp x·∫øp theo th·ª© t·ª± tƒÉng d·∫ßn ph√¢n t·ª≠ kh·ªëi l√†:", o: ["Propane, methane, ethane", "Methane, ethane, propane", "Propane, ethane, methane", "Propane, ethane, butane"], a: 1},
    {q: "Alkene l√† nh·ªØng hydrocarbon c√≥ ƒë·∫∑c ƒëi·ªÉm:", o: ["M·∫°ch h·ªü, c√≥ m·ªôt li√™n k·∫øt ba C‚â°C", "M·∫°ch v√≤ng, c√≥ m·ªôt li√™n k·∫øt ƒë√¥i C=C", "M·∫°ch h·ªü, c√≥ m·ªôt li√™n k·∫øt ƒë√¥i C=C", "M·∫°ch v√≤ng, ch·ªâ c√≥ li√™n k·∫øt ƒë∆°n"], a: 2},
    {q: "Alkene l√† c√°c hydrocarbon c√≥ c√¥ng th·ª©c chung l√†:", o: ["CnH2n+2 (n ‚â• 1)", "CnH2n (n ‚â• 2)", "CnH2n (n ‚â• 3)", "CnH2n‚àí2 (n ‚â• 2)"], a: 1},
    {q: "Kh√≠ ethylene cho ph·∫£n ·ª©ng ƒë·∫∑c tr∆∞ng l√†:", o: ["Ph·∫£n ·ª©ng ch√°y", "Ph·∫£n ·ª©ng th·∫ø", "Ph·∫£n ·ª©ng c·ªông", "Ph·∫£n ·ª©ng ph√¢n h·ªßy"], a: 2},
    {q: "Tr√™n nh√£n chai r∆∞·ª£u ghi 18¬∞ c√≥ nghƒ©a l√†:", o: ["Nhi·ªát ƒë·ªô s√¥i c·ªßa ethylic alcohol l√† 18¬∞C", "Nhi·ªát ƒë·ªô ƒë√¥ng ƒë·∫∑c c·ªßa ethylic alcohol l√† 18¬∞C", "Trong 100 ml r∆∞·ª£u c√≥ 18 ml ethylic alcohol nguy√™n ch·∫•t", "Trong 100 ml r∆∞·ª£u c√≥ 18 ml n∆∞·ªõc"], a: 2},
    {q: "Ethylic alcohol t√°c d·ª•ng ƒë∆∞·ª£c v·ªõi sodium v√¨:", o: ["Trong ph√¢n t·ª≠ c√≥ nguy√™n t·ª≠ oxygen", "Trong ph√¢n t·ª≠ c√≥ nguy√™n t·ª≠ hydrogen v√† oxygen", "Trong ph√¢n t·ª≠ c√≥ carbon, hydrogen v√† oxygen", "Trong ph√¢n t·ª≠ c√≥ nh√≥m ‚ÄìOH"], a: 3},
    {q: "Acetic acid c√≥ c√¥ng th·ª©c l√†:", o: ["HCOOH", "C2H5COOH", "CH2=CHCOOH", "CH3COOH"], a: 3},
    {q: "ƒê·ªÉ ph√¢n bi·ªát dung d·ªãch CH3COOH v√† C2H5OH ta d√πng:", o: ["Na", "Zn", "K", "Cu"], a: 0, exp: "Na ph·∫£n ·ª©ng v·ªõi r∆∞·ª£u sinh H2, kh√¥ng ph·∫£n ·ª©ng m·∫°nh v·ªõi axit lo√£ng."},
    {q: "Th·ª±c ph·∫©m n√†o sau ƒë√¢y gi√†u tinh b·ªôt nh·∫•t?", o: ["Th·ªãt g√†", "G·∫°o", "C√° h·ªìi", "Rau c·∫£i"], a: 1},
    {q: "Ch·∫•t d√πng l√†m nguy√™n li·ªáu ƒëi·ªÅu ch·∫ø tr·ª±c ti·∫øp ethylic alcohol l√†:", o: ["Ethane", "Acetylene", "Methane", "Glucose"], a: 3, exp: "L√™n men glucose."},
    {q: "Lo·∫°i ƒë∆∞·ªùng d√πng ƒë·ªÉ pha huy·∫øt thanh truy·ªÅn tƒ©nh m·∫°ch l√†:", o: ["Saccharose", "Fructose", "Glucose", "Acetic acid"], a: 2},
    {q: "D√≤ng thu·∫ßn l√† c√°c c∆° th·ªÉ:", o: ["D·ªã h·ª£p v·ªÅ m·ªôt c·∫∑p gene", "D·ªã h·ª£p v·ªÅ t·∫•t c·∫£ c√°c c·∫∑p gene", "ƒê·ªìng h·ª£p v·ªÅ t·∫•t c·∫£ c√°c c·∫∑p gene", "ƒê·ªìng h·ª£p v·ªÅ m·ªôt c·∫∑p gene"], a: 3, exp: "ƒê·ªìng h·ª£p m·ªôt ho·∫∑c nhi·ªÅu c·∫∑p."},
    {q: "DNA ƒë∆∞·ª£c c·∫•u t·∫°o t·ª´ c√°c ƒë∆°n ph√¢n:", o: ["T, A, G, U", "A, T, C, G", "A, U, G, C", "T, U, G, C"], a: 1},
    {q: "M√£ di truy·ªÅn l√†:", o: ["Tr√¨nh t·ª± ph√¢n t·ª≠ ƒë∆∞·ªùng trong ADN", "Tr√¨nh t·ª± nucleotide quy ƒë·ªãnh amino acid", "Tr√¨nh t·ª± lipid m√†ng t·∫ø b√†o", "M·ªôt lo·∫°i enzyme"], a: 1},
    {q: "ƒê·ªôt bi·∫øn gene l√† bi·∫øn ƒë·ªïi trong:", o: ["C·∫•u tr√∫c c·ªßa gene", "S·ªë l∆∞·ª£ng gene", "H√¨nh d·∫°ng gene", "V·ªã tr√≠ c·ªßa gene"], a: 0},
    {q: "Ethylene c√≥ l·∫´n t·∫°p ch·∫•t l√† SO2,CO2 v√† h∆°i n∆∞·ªõc . c√≥ th·ªÉ lo·∫°i b·ªè t·∫°p ch·∫•t b·∫±ng c√°ch:", o: ["A. D·∫´n h·ªón h·ª£p qua dung d·ªãch brom d∆∞", "B. D·∫´n h·ªón h·ª£p qua dung d·ªãch NaCl d∆∞", "C. D·∫´n h·ªón h·ª£p l·∫ßn l∆∞·ª£t qua b√¨nh ƒë·ª±ng dung d·ªãch NaOH d∆∞ v√† b√¨nh ƒë·ª±ng dung d·ªãch H2SO4 ƒë·∫∑c.", "D. D·∫´n h·ªón h·ª£p l·∫ßn l∆∞·ª£t qua b√¨nh ƒë·ª±ng dung d·ªãch brom d∆∞ v√† b√¨nh ƒë·ª±ng dung d·ªãch H2SO4 ƒë·∫∑c."], a: 2},
    {q:  "Cho m·ªôt m·∫´u sodium v√†o ·ªëng nghi·ªám ƒë·ª±ng ethylic alcohol. Hi·ªán t∆∞·ª£ng quan s√°t ƒë∆∞·ª£c l√†", o: ["c√≥ b·ªçt kh√≠ m√†u n√¢u tho√°t ra", "m·∫´u sodium tan d·∫ßn kh√¥ng c√≥ b·ªçt kh√≠ tho√°t ra.", "m·∫´u sodium n·∫±m d∆∞·ªõi b·ªÅ m·∫∑t ch·∫•t l·ªèng v√† kh√¥ng tan.", " c√≥ b·ªçt kh√≠ kh√¥ng m√†u tho√°t ra v√† sodium tan d·∫ßn."], a: 3},
    {q: "t√≠nh ch·∫•t v·∫≠t l√Ω c·ªßa acetic acid l√†", o: ["ch·∫•t l·ªèng, kh√¥ng m√†u, v·ªã chua, tan v√¥ h·∫°n trong n∆∞·ªõc.", "ch·∫•t l·ªèng, m√†u tr·∫Øng, v·ªã chua, tan √≠t trong n∆∞·ªõc.", "ch·∫•t l·ªèng, kh√¥ng m√†u, v·ªã ƒë·∫Øng, tan v√¥ h·∫°n trong n∆∞·ªõc", " ch·∫•t l·ªèng, kh√¥ng m√†u, v·ªã chua, kh√¥ng tan trong n∆∞·ªõc."], a: 0},
    {q: "ƒê·ªÉ ph√¢n bi·ªát dung d·ªãch CH3COOH v√† C2H5OH ta d√πng", o: ["Na", "Zn", "K", "Cu",], a: 1},
    {q: "T√≠nh ch·∫•t v·∫≠t l√≠ c·ªßa cellulose l√†", o: ["Ch·∫•t r·∫Øn, m√†u tr·∫Øng, tan trong n∆∞·ªõc.", " Ch·∫•t r·∫Øn, m√†u tr·∫Øng, tan trong n∆∞·ªõc n√≥ng.", "Ch·∫•t r·∫Øn, kh√¥ng m√†u, tan trong n∆∞·ªõc.", "Ch·∫•t r·∫Øn, kh√¥ng m√†u, kh√¥ng tan trong n∆∞·ªõc."], a: 1},
    {q: "Saccharose c√≥ t√≠nh ch·∫•t v·∫≠t l√≠ l√†?", o: ["ch·∫•t r·∫Øn k·∫øt tinh, kh√¥ng m√†u, v·ªã ng·ªçt, kh√≥ tan trong n∆∞·ªõc.", "ch·∫•t r·∫Øn k·∫øt tinh, kh√¥ng m√†u, v·ªã ng·ªçt, d·ªÖ tan trong n∆∞·ªõc. ", " ch·∫•t r·∫Øn k·∫øt tinh, m√†u v√†ng nh·∫°t, v·ªã ng·ªçt, d·ªÖ tan trong n∆∞·ªõc.", "ch·∫•t r·∫Øn k·∫øt tinh, kh√¥ng m√†u, v·ªã ng·ªçt, kh√¥ng tan trong n∆∞·ªõc l·∫°nh."], a: 0},
    {q: "Saccharose c√≥ nh·ªØng ·ª©ng d·ª•ng trong th·ª±c t·∫ø l√†", o: ["Nguy√™n li·ªáu trong c√¥ng nghi·ªáp th·ª±c ph·∫©m, th·ª©c ƒÉn cho ng∆∞·ªùi, pha ch·∫ø thu·ªëc", ".Nguy√™n li·ªáu s·∫£n xu·∫•t thu·ªëc nhu·ªôm, s·∫£n xu·∫•t gi·∫•y, l√† th·ª©c ƒÉn cho ng∆∞·ªùi", "L√†m th·ª©c ƒÉn cho ng∆∞·ªùi, tr√°ng g∆∞∆°ng, tr√°ng ru·ªôt ph√≠ch", ".L√†m th·ª©c ƒÉn cho ng∆∞·ªùi, s·∫£n xu·∫•t g·ªó, gi·∫•y, thu·ªëc nhu·ªôm"], a: 0},
    {q: " N·∫øu tr√™n m·ªôt m·∫°ch ƒë∆°n c·ªßa ph√¢n t·ª≠ DNA c√≥ tr·∫≠t t·ª± l√†: ‚Äì T ‚Äì T ‚Äì G ‚Äì C ‚Äì A ‚ÄìTr·∫≠t t·ª± c·ªßa ƒëo·∫°n m·∫°ch b·ªï sung t·∫°i v·ªã tr√≠ ƒë√≥ l√†", o: ["‚Äì T ‚Äì A ‚Äì C ‚Äì G ‚Äì T ‚Äì.", "‚Äì A ‚Äì A ‚Äì C ‚Äì G ‚Äì T ‚Äì.", " ‚Äì A - T ‚Äì G ‚Äì C ‚Äì A ‚Äì.", "‚Äì A ‚Äì C ‚Äì G ‚Äì T ‚Äì A ‚Äì."], a: 1},
  ],

  ly: [
    {q: "ƒê∆°n v·ªã ƒëo c·ªßa th·∫ø nƒÉng tr·ªçng tr∆∞·ªùng l√† g√¨?", o: ["Niut∆°n (N)", "Jun (J)", "Kil√¥gam (kg)", "M√©t tr√™n gi√¢y b√¨nh ph∆∞∆°ng (m/s¬≤)"], a: 1, exp: "Th·∫ø nƒÉng l√† d·∫°ng nƒÉng l∆∞·ª£ng n√™n ƒë∆°n v·ªã l√† Jun (J)."},
    {q: "C∆° nƒÉng c·ªßa m·ªôt v·∫≠t bao g·ªìm:", o: ["Th·∫ø nƒÉng v√† ƒë·ªông nƒÉng", "ƒê·ªông nƒÉng v√† c√¥ng c∆° h·ªçc", "Th·∫ø nƒÉng v√† c√¥ng su·∫•t", "ƒê·ªông nƒÉng v√† l·ª±c"], a: 0, exp: "C∆° nƒÉng = ƒê·ªông nƒÉng + Th·∫ø nƒÉng (b·∫£o to√†n trong nhi·ªÅu tr∆∞·ªùng h·ª£p)."},
    {q: "C√¥ng su·∫•t l√† ƒë·∫°i l∆∞·ª£ng ƒëo:", o: ["C√¥ng th·ª±c hi·ªán trong m·ªôt ƒë∆°n v·ªã th·ªùi gian", "C√¥ng th·ª±c hi·ªán trong m·ªôt ng√†y", "C√¥ng th·ª±c hi·ªán trong m·ªôt gi·ªù", "T·ªëc ƒë·ªô th·ª±c hi·ªán c√¥ng"], a: 0, exp: "P = A/t (Jun/gi√¢y = W)."},
    {q: "C√¥ng c·ªßa m·ªôt l·ª±c kh√¥ng ƒë·ªïi F l√†m v·∫≠t d·ªãch chuy·ªÉn qu√£ng ƒë∆∞·ªùng s theo h∆∞·ªõng l·ª±c l√†:", o: ["A = F / s", "A = F ¬∑ s", "A = F + s", "A = F ‚àí s"], a: 1, exp: "C√¥ng = l·ª±c √ó qu√£ng ƒë∆∞·ªùng √ó cosŒ± (Œ±=0¬∞ ‚Üí cos0=1)."},
    {q: "Kh√∫c x·∫° √°nh s√°ng l√† hi·ªán t∆∞·ª£ng:", o: ["Tia s√°ng b·ªã b·∫≠t ng∆∞·ª£c l·∫°i khi g·∫∑p g∆∞∆°ng", "Tia s√°ng b·ªã g√£y kh√∫c khi ƒëi t·ª´ m√¥i tr∆∞·ªùng n√†y sang m√¥i tr∆∞·ªùng kh√°c", "Tia s√°ng tr·∫Øng b·ªã t√°ch th√†nh nhi·ªÅu m√†u", "Tia s√°ng ƒë·ªïi m√†u khi qua k√≠nh m√†u"], a: 1, exp: "Hi·ªán t∆∞·ª£ng thay ƒë·ªïi h∆∞·ªõng truy·ªÅn khi qua m·∫∑t ph√¢n c√°ch hai m√¥i tr∆∞·ªùng."},
    {q: "Chi·∫øt su·∫•t tuy·ªát ƒë·ªëi c·ªßa m·ªôt m√¥i tr∆∞·ªùng l√† chi·∫øt su·∫•t t·ªâ ƒë·ªëi so v·ªõi:", o: ["Kh√¥ng kh√≠", "Ch√¢n kh√¥ng", "N∆∞·ªõc", "Th·ªßy tinh"], a: 1, exp: "n = c/v, c l√† t·ªëc ƒë·ªô √°nh s√°ng trong ch√¢n kh√¥ng."},
    {q: "Khi chi·∫øu √°nh s√°ng tr·∫Øng qua lƒÉng k√≠nh thu ƒë∆∞·ª£c:", o: ["√Ånh s√°ng tr·∫Øng", "D·∫£i m√†u ƒë·ªè ‚Äì cam ‚Äì v√†ng ‚Äì l·ª•c ‚Äì lam ‚Äì ch√†m ‚Äì t√≠m", "Ba m√†u c∆° b·∫£n ƒë·ªè ‚Äì l·ª•c ‚Äì lam", "√Ånh s√°ng ƒë·ªè"], a: 1, exp: "Hi·ªán t∆∞·ª£ng t√°n s·∫Øc √°nh s√°ng."}
  ],

  tin: [
    {q: "Ph∆∞∆°ng √°n n√†o sau ƒë√¢y KH√îNG ph·∫£i l√† ·ª©ng d·ª•ng c·ªßa m√°y t√≠nh trong gi·∫£i tr√≠?", o: ["Nghe nh·∫°c", "Xem phim", "N·∫•u ƒÉn t·ª± ƒë·ªông", "Ch∆°i game"], a: 2, exp: "N·∫•u ƒÉn th∆∞·ªùng kh√¥ng ph·∫£i ch·ª©c nƒÉng ch√≠nh c·ªßa m√°y t√≠nh th√¥ng th∆∞·ªùng."},
    {q: "Ngu·ªìn th√¥ng tin ƒë√°ng tin c·∫≠y nh·∫•t l√†:", o: ["B√†i ƒëƒÉng tr√™n m·∫°ng x√£ h·ªôi", "Tin ƒë·ªìn tr√™n Internet", "S√°ch gi√°o khoa do B·ªô Gi√°o d·ª•c ph√™ duy·ªát", "Blog c√° nh√¢n"], a: 2, exp: "S√°ch gi√°o khoa ƒë∆∞·ª£c ki·ªÉm duy·ªát k·ªπ l∆∞·ª°ng."},
    {q: "H√†nh vi n√†o vi ph·∫°m nghi√™m tr·ªçng an to√†n th√¥ng tin m·∫°ng?", o: ["Chia s·∫ª ·∫£nh c√° nh√¢n", "Ph√°t t√°n virus m√°y t√≠nh", "T·∫£i ph·∫ßn m·ªÅm mi·ªÖn ph√≠", "ƒêƒÉng b√†i vi·∫øt √Ω ki·∫øn"], a: 1, exp: "Ph√°t t√°n virus l√† h√†nh vi t·∫•n c√¥ng m·∫°ng."},
    {q: "S·ª≠ d·ª•ng ph·∫ßn m·ªÅm crack (kh√¥ng b·∫£n quy·ªÅn) vi ph·∫°m:", o: ["Lu·∫≠t an ninh m·∫°ng", "Lu·∫≠t s·ªü h·ªØu tr√≠ tu·ªá", "Lu·∫≠t giao th√¥ng", "Lu·∫≠t lao ƒë·ªông"], a: 1, exp: "Vi ph·∫°m b·∫£n quy·ªÅn ph·∫ßn m·ªÅm."}
  ],

  toan: [
    {q: "Gi√° tr·ªã c·ªßa bi·ªÉu th·ª©c (2 + 3) √ó 5 l√†?", o: ["25", "13", "15", "10"], a: 0, exp: "Th·ª±c hi·ªán trong ngo·∫∑c tr∆∞·ªõc: 5 √ó 5 = 25."},
    {q: "Di·ªán t√≠ch h√¨nh vu√¥ng c·∫°nh a l√†?", o: ["a", "2a", "a¬≤", "4a"], a: 2, exp: "S = a √ó a = a¬≤."},
    {q: "sin 90¬∞ b·∫±ng bao nhi√™u?", o: ["0", "1", "-1", "0.5"], a: 1, exp: "sin 90¬∞ = 1 (gi√° tr·ªã l·ªõn nh·∫•t)."},
    {q: "CƒÉn b·∫≠c hai c·ªßa 144 l√†?", o: ["10", "12", "14", "16"], a: 1, exp: "12¬≤ = 144."},
    {q: "Gi√° tr·ªã x·∫•p x·ªâ c·ªßa œÄ l√†?", o: ["2.718", "3.14", "1.618", "2.14"], a: 1, exp: "œÄ ‚âà 3.14159..."}
  ]
};

let subject = "";
let questions = [];
let index = 0;
let score = 0;
let wrongQuestions = [];
let examMode = false;
let timeLeft = 1800; // 30 ph√∫t
let timerInterval = null;

function selectSubject(s) {
  subject = s;
  document.getElementById("mode").classList.remove("hidden");
  document.querySelector(".menu").classList.add("hidden");
}

function startMode(isExam) {
  examMode = isExam;
  index = 0;
  score = 0;
  wrongQuestions = [];

  // L·∫•y to√†n b·ªô c√¢u h·ªèi c·ªßa m√¥n, x√°o tr·ªôn, ch·ªçn t·ªëi ƒëa 30 c√¢u cho ch·∫ø ƒë·ªô thi
  let allQuestions = [...data[subject]];
  allQuestions = allQuestions.sort(() => Math.random() - 0.5);
  questions = examMode ? allQuestions.slice(0, Math.min(30, allQuestions.length)) : allQuestions;

  document.getElementById("mode").classList.add("hidden");
  document.getElementById("quiz").classList.remove("hidden");

  if (examMode) {
    timeLeft = 1800;
    document.getElementById("timer").classList.remove("hidden");
    document.getElementById("timer").classList.remove("warning");
    startTimer();
  } else {
    document.getElementById("timer").classList.add("hidden");
    if (timerInterval) clearInterval(timerInterval);
  }

  showQuestion();
}

function startTimer() {
  updateTimerDisplay();
  timerInterval = setInterval(() => {
    timeLeft--;
    if (timeLeft <= 0) {
      clearInterval(timerInterval);
      timeLeft = 0;
      finishExam();
      return;
    }
    updateTimerDisplay();
    if (timeLeft <= 300) {
      document.getElementById("timer").classList.add("warning");
    }
  }, 1000);
}

function updateTimerDisplay() {
  const m = Math.floor(timeLeft / 60);
  const s = timeLeft % 60;
  document.getElementById("timer").innerText = `‚è± ${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
}

function showQuestion() {
  document.getElementById("result").innerHTML = "";
  document.getElementById("explanation").classList.add("hidden");

  const q = questions[index];
  document.getElementById("question").innerText = `${index + 1}. ${q.q}`;

  // X√°o tr·ªôn ƒë√°p √°n
  const shuffled = q.o.map((opt, i) => ({opt, i}))
                     .sort(() => Math.random() - 0.5);

  let optHTML = "";
  shuffled.forEach(item => {
    optHTML += `<div class="option" onclick="choose(${item.i === q.a})">${item.opt}</div>`;
  });
  document.getElementById("options").innerHTML = optHTML;

  document.getElementById("score-board").innerText = `C√¢u: ${index + 1}/${questions.length} | ƒêi·ªÉm: ${score}`;
  document.getElementById("progress-bar").style.width = `${((index + 1) / questions.length) * 100}%`;
}

function choose(isCorrect) {
  const options = document.querySelectorAll(".option");
  options.forEach(opt => opt.style.pointerEvents = "none");

  // ƒê√°nh d·∫•u ƒë√°p √°n ƒë√∫ng
  const correctIdx = questions[index].a;
  options.forEach(opt => {
    if (opt.innerText === questions[index].o[correctIdx]) {
      opt.classList.add("correct");
    }
  });

  if (isCorrect) {
    score++;
    document.getElementById("result").innerHTML = "‚úÖ <strong>Ch√≠nh x√°c!</strong>";
  } else {
    document.getElementById("result").innerHTML = "‚ùå <strong>Sai r·ªìi!</strong>";
    wrongQuestions.push(questions[index]);
    // ƒê√°nh d·∫•u ƒë√°p √°n ng∆∞·ªùi ch·ªçn l√† sai
    options.forEach(opt => {
      if (opt.onclick.toString().includes("true") === false && opt.style.pointerEvents === "none") {
        // T√¨m ƒë√°p √°n ƒë∆∞·ª£c click (c√°ch ƒë∆°n gi·∫£n)
      }
    });
  }

  if (questions[index].exp) {
    document.getElementById("explanation").innerHTML = `<strong>Gi·∫£i th√≠ch:</strong> ${questions[index].exp}`;
    document.getElementById("explanation").classList.remove("hidden");
  }

  document.getElementById("score-board").innerText = `C√¢u: ${index + 1}/${questions.length} | ƒêi·ªÉm: ${score}`;

  index++;
  if (index < questions.length) {
    setTimeout(showQuestion, 2800);
  } else {
    setTimeout(finishExam, 2800);
  }
}

function finishExam() {
  if (timerInterval) clearInterval(timerInterval);

  const percent = questions.length > 0 ? Math.round((score / questions.length) * 100) : 0;
  let rank = "", emoji = "";
  if (percent >= 90) { rank = "Xu·∫•t s·∫Øc"; emoji = "üèÜ"; }
  else if (percent >= 80) { rank = "Gi·ªèi"; emoji = "üåü"; }
  else if (percent >= 65) { rank = "Kh√°"; emoji = "üëç"; }
  else if (percent >= 50) { rank = "Trung b√¨nh"; emoji = "üÜó"; }
  else { rank = "C·∫ßn c·ªë g·∫Øng h∆°n"; emoji = "üí™"; }

  const timeUsed = examMode ? (1800 - timeLeft) : null;
  const timeText = examMode ? `<p>Th·ªùi gian l√†m b√†i: ${Math.floor(timeUsed / 60)} ph√∫t ${timeUsed % 60} gi√¢y</p>` : "";

  let wrongReview = wrongQuestions.length > 0 ?
    `<button onclick="reviewWrong()" style="margin:10px;padding:14px 28px;font-size:18px;background:#ff4444;border:none;border-radius:12px;color:white;cursor:pointer;">
      üîç Xem l·∫°i ${wrongQuestions.length} c√¢u sai
    </button>` : "";

  document.getElementById("question").innerText = "Ch√∫c m·ª´ng b·∫°n ƒë√£ ho√†n th√†nh!";
  document.getElementById("options").innerHTML = "";
  document.getElementById("result").innerHTML = `
    <h2 style="text-align:center">${emoji} K·∫øt qu·∫£</h2>
    <p style="font-size:2em;text-align:center">
      ƒêi·ªÉm: <strong>${score}/${questions.length}</strong> (${percent}%)<br>
      X·∫øp lo·∫°i: <strong>${rank}</strong>
    </p>
    ${timeText}
    <div style="text-align:center;margin-top:30px;">
      <button onclick="restartSubject()" style="padding:15px 30px;font-size:18px;background:#00c6ff;border:none;border-radius:10px;color:white;cursor:pointer;margin:10px;">
        üîÑ L√†m l·∫°i m√¥n n√†y
      </button>
      <button onclick="location.reload()" style="padding:15px 30px;font-size:18px;background:#0072ff;border:none;border-radius:10px;color:white;cursor:pointer;margin:10px;">
        üè† V·ªÅ menu ch√≠nh
      </button>
      ${wrongReview}
    </div>
  `;
  document.getElementById("progress-bar").style.width = "100%";
}

function reviewWrong() {
  questions = wrongQuestions;
  index = 0;
  score = 0;
  wrongQuestions = [];
  examMode = false;
  document.getElementById("timer").classList.add("hidden");
  if (timerInterval) clearInterval(timerInterval);
  showQuestion();
}

function restartSubject() {
  startMode(examMode);
}
</script>
</body>
</html>
